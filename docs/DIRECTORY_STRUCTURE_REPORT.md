# ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„æ•´ç†å®ŒæˆæŠ¥å‘Š

## ğŸ‰ æ•´ç†å®Œæˆæ¦‚è¿°

æ‚¨çš„è®ºæ–‡è¯„ä¼°ç³»ç»Ÿç°åœ¨é‡‡ç”¨äº†æ¸…æ™°ã€ä¸“ä¸šçš„ç›®å½•ç»“æ„ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½æŒ‰åŠŸèƒ½åˆ†ç±»å­˜æ”¾ã€‚

## ğŸ“‚ æ–°çš„ç›®å½•ç»“æ„

```
thesis-inno-eval/
â”œâ”€â”€ src/thesis_inno_eval/     # ä¸»è¦ä»£ç åŒ…
â”‚   â”œâ”€â”€ __init__.py           # åŒ…åˆå§‹åŒ–
â”‚   â”œâ”€â”€ __about__.py          # ç‰ˆæœ¬ä¿¡æ¯
â”‚   â”œâ”€â”€ cli.py                # CLIå·¥å…·
â”‚   â”œâ”€â”€ config_manager.py     # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ gemini_client.py      # AIå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ cnki_client_pool.py   # CNKIå®¢æˆ·ç«¯
â”‚   â””â”€â”€ ...                   # å…¶ä»–æ¨¡å—
â”œâ”€â”€ tests/                    # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ data/                     # æ•°æ®ç›®å½• â­
â”‚   â”œâ”€â”€ input/               # ğŸ“„ è¾“å…¥æ–‡ä»¶ (è®ºæ–‡æ–‡æ¡£)
â”‚   â”œâ”€â”€ output/              # ğŸ“Š è¾“å‡ºæ–‡ä»¶ (åˆ†æç»“æœ)
â”‚   â””â”€â”€ README.md            # æ•°æ®ç›®å½•è¯´æ˜
â”œâ”€â”€ logs/                     # ğŸ“‹ æ—¥å¿—æ–‡ä»¶ â­
â”‚   â”œâ”€â”€ app.log              # å½“å‰æ—¥å¿—
â”‚   â”œâ”€â”€ app.log.1            # å†å²æ—¥å¿—
â”‚   â””â”€â”€ README.md            # æ—¥å¿—ç›®å½•è¯´æ˜
â”œâ”€â”€ config/                   # âš™ï¸ é…ç½®æ–‡ä»¶ â­
â”‚   â”œâ”€â”€ conf.yaml            # ä¸»é…ç½®
â”‚   â”œâ”€â”€ rules.txt            # è¯„ä¼°è§„åˆ™
â”‚   â”œâ”€â”€ strategy.txt         # è¯„ä¼°ç­–ç•¥
â”‚   â””â”€â”€ README.md            # é…ç½®ç›®å½•è¯´æ˜
â”œâ”€â”€ docs/                     # ğŸ“š æ–‡æ¡£æ–‡ä»¶ â­
â”‚   â”œâ”€â”€ MIGRATION_REPORT.md  # è¿ç§»æŠ¥å‘Š
â”‚   â””â”€â”€ README.md            # æ–‡æ¡£ç›®å½•è¯´æ˜
â”œâ”€â”€ pyproject.toml           # é¡¹ç›®é…ç½®
â”œâ”€â”€ README.md                # é¡¹ç›®è¯´æ˜
â””â”€â”€ uv.lock                  # ä¾èµ–é”å®š
```

â­ = æ–°å¢çš„ä¸“é—¨ç›®å½•

## ğŸ—‚ æ–‡ä»¶åˆ†ç±»ç»“æœ

### ğŸ“„ è¾“å…¥æ–‡ä»¶ (data/input/)
- **8 ä¸ªè®ºæ–‡æ–‡æ¡£**
- æ”¯æŒæ ¼å¼: `.docx`, `.pdf`, `.md`, `.txt`
- åŒ…å«å¤šä¸ªç ”ç©¶é¢†åŸŸçš„è®ºæ–‡æ ·æœ¬

### ğŸ“Š è¾“å‡ºæ–‡ä»¶ (data/output/) 
- **26 ä¸ªåˆ†æç»“æœæ–‡ä»¶**
- åŒ…æ‹¬ç›¸å…³è®ºæ–‡ã€å»é‡ç»“æœã€TopNç­›é€‰
- JSONæ ¼å¼ï¼Œä¾¿äºç¨‹åºå¤„ç†

### ğŸ“‹ æ—¥å¿—æ–‡ä»¶ (logs/)
- **3 ä¸ªæ—¥å¿—æ–‡ä»¶**
- è‡ªåŠ¨è½®è½¬ç®¡ç†
- åŒ…å«ç³»ç»Ÿè¿è¡Œå†å²

### âš™ï¸ é…ç½®æ–‡ä»¶ (config/)
- **ä¸»é…ç½®æ–‡ä»¶**: `conf.yaml`
- **è¯„ä¼°è§„åˆ™**: `rules.txt`
- **è¯„ä¼°ç­–ç•¥**: `strategy.txt`

## ğŸ”§ é…ç½®åŠŸèƒ½å¢å¼º

### æ–°å¢çš„ç›®å½•é…ç½®
```yaml
directories:
  data_dir: "data"
  input_dir: "data/input"
  output_dir: "data/output"
  logs_dir: "logs"
  config_dir: "config"
  docs_dir: "docs"
  temp_dir: "temp"
```

### æ–‡ä»¶å‘½åé…ç½®
```yaml
file_naming:
  output_patterns:
    relevant_papers: "{base_name}_relevant_papers_{lang}.json"
    dedup_papers: "{base_name}_relevant_papers_dedup_{lang}.json"
    top_papers: "{base_name}_TOP{top_count}PAPERS_{lang}.json"
  log_file: "app.log"
  supported_formats: [".docx", ".pdf", ".md", ".txt"]
```

## ğŸ›  CLIå·¥å…·å¢å¼º

### æ–°çš„å‘½ä»¤
```bash
# æŸ¥çœ‹é…ç½®ï¼ˆå¢å¼ºç‰ˆï¼‰
uv run thesis-eval config

# æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨
uv run thesis-eval files

# è¿è¡Œæµ‹è¯•
uv run thesis-eval test

# æŸ¥çœ‹å¸®åŠ©
uv run thesis-eval --help
```

### é…ç½®å‘½ä»¤è¾“å‡ºç¤ºä¾‹
```
ğŸ“‹ å½“å‰ç³»ç»Ÿé…ç½®:
  ğŸ“Š TopNè®ºæ–‡æ•°é‡: 20
  ğŸ¤– OpenAI max_tokens: 1,048,576
  ğŸ¤– Gemini max_tokens: 1,048,576

ğŸ“ ç›®å½•é…ç½®:
  ğŸ“„ è¾“å…¥ç›®å½•: data/input
  ğŸ“Š è¾“å‡ºç›®å½•: data/output
  ğŸ“‹ æ—¥å¿—ç›®å½•: logs
  âš™ï¸ é…ç½®ç›®å½•: config
  ğŸ“š æ–‡æ¡£ç›®å½•: docs

ğŸ“„ æ”¯æŒçš„æ–‡ä»¶æ ¼å¼: .docx, .pdf, .md, .txt

ğŸ“Š å¤„ç†èƒ½åŠ›:
  ğŸ“„ å¯å¤„ç†è®ºæ–‡é¡µæ•°: 1,048 é¡µ
  âœ… ç³»ç»Ÿå·²ä¼˜åŒ–ä¸ºå®Œæ•´å­¦ä½è®ºæ–‡å¤„ç†!
```

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### 1. æ·»åŠ æ–°è®ºæ–‡
```bash
# å°†è®ºæ–‡æ–‡ä»¶æ”¾å…¥è¾“å…¥ç›®å½•
cp your_thesis.pdf data/input/

# æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨
uv run thesis-eval files
```

### 2. æŸ¥çœ‹åˆ†æç»“æœ
```bash
# è¾“å‡ºæ–‡ä»¶åœ¨
ls data/output/

# æŒ‰ç±»å‹æŸ¥çœ‹:
ls data/output/*_relevant_papers_*.json    # ç›¸å…³è®ºæ–‡
ls data/output/*_dedup_*.json              # å»é‡ç»“æœ  
ls data/output/*_TOP*PAPERS_*.json         # TopNç»“æœ
```

### 3. æŸ¥çœ‹æ—¥å¿—
```bash
# æŸ¥çœ‹å½“å‰æ—¥å¿—
tail -f logs/app.log

# æŸ¥çœ‹å†å²æ—¥å¿—
ls logs/
```

### 4. ä¿®æ”¹é…ç½®
```bash
# ç¼–è¾‘ä¸»é…ç½®
vim config/conf.yaml

# éªŒè¯é…ç½®
uv run thesis-eval config
```

## âœ… æ•´ç†æ•ˆæœ

### ä¼˜åŠ¿
1. **æ¸…æ™°åˆ†ç±»**: è¾“å…¥ã€è¾“å‡ºã€æ—¥å¿—ã€é…ç½®å„æœ‰ä¸“é—¨ç›®å½•
2. **æ˜“äºç®¡ç†**: æ–‡ä»¶ç±»å‹æ˜ç¡®ï¼Œä¾¿äºæŸ¥æ‰¾å’Œç»´æŠ¤
3. **è§„èŒƒåŒ–**: ç¬¦åˆç°ä»£Pythoné¡¹ç›®ç»“æ„æ ‡å‡†
4. **å¯æ‰©å±•**: ä¸ºæœªæ¥åŠŸèƒ½æ‰©å±•æä¾›è‰¯å¥½åŸºç¡€

### æ”¹è¿›å¯¹æ¯”
| é¡¹ç›® | æ•´ç†å‰ | æ•´ç†å |
|------|--------|--------|
| æ–‡ä»¶ç»„ç»‡ | âŒ æ‰€æœ‰æ–‡ä»¶æ··åˆåœ¨æ ¹ç›®å½• | âœ… æŒ‰åŠŸèƒ½åˆ†ç±»åˆ°ä¸“é—¨ç›®å½• |
| é…ç½®ç®¡ç† | âŒ é…ç½®æ–‡ä»¶æ•£å¸ƒ | âœ… ç»Ÿä¸€åœ¨configç›®å½• |
| æ—¥å¿—ç®¡ç† | âŒ æ—¥å¿—æ–‡ä»¶åœ¨æ ¹ç›®å½• | âœ… ä¸“é—¨çš„logsç›®å½• |
| æ–‡æ¡£ç®¡ç† | âŒ æ–‡æ¡£æ··æ‚ | âœ… ç»Ÿä¸€åœ¨docsç›®å½• |
| CLIæ”¯æŒ | âŒ åŸºæœ¬åŠŸèƒ½ | âœ… å®Œæ•´çš„ç›®å½•æ„ŸçŸ¥CLI |

## ğŸš€ ä¸‹ä¸€æ­¥å»ºè®®

1. **è®¾ç½®Gitå¿½ç•¥**
   ```gitignore
   # ä¸´æ—¶æ–‡ä»¶
   temp/
   
   # å¤§å‹è¾“å‡ºæ–‡ä»¶ (å¯é€‰)
   data/output/*.json
   
   # æ—¥å¿—æ–‡ä»¶ (å¯é€‰)
   logs/*.log*
   ```

2. **å»ºç«‹å·¥ä½œæµç¨‹**
   - æ–°è®ºæ–‡ â†’ `data/input/`
   - è¿è¡Œåˆ†æ â†’ ç»“æœå­˜å‚¨åˆ° `data/output/`
   - æ£€æŸ¥æ—¥å¿— â†’ `logs/app.log`

3. **å®šæœŸç»´æŠ¤**
   - æ¸…ç†æ—§çš„åˆ†æç»“æœ
   - å‹ç¼©å†å²æ—¥å¿—
   - å¤‡ä»½é‡è¦é…ç½®

ğŸ‰ **æ‚¨çš„è®ºæ–‡è¯„ä¼°ç³»ç»Ÿç°åœ¨å…·æœ‰æ¸…æ™°ã€ä¸“ä¸šçš„ç›®å½•ç»“æ„ï¼Œä¾¿äºé•¿æœŸç»´æŠ¤å’Œä½¿ç”¨ï¼**
